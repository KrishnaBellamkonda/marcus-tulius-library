(this["webpackJsonpreal-time-transcription-app"]=this["webpackJsonpreal-time-transcription-app"]||[]).push([[0],{217:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),i=n.n(c),s=n(16),o=n(1),u=n.n(o),l=n(140),j=n(22),d=(n(217),n(102)),b=n(6),h=n(115),p=n.n(h),f=n(187);function O(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1];return[a,{value:e,onChange:function(e){return c((function(t){return e.target.value}))}},function(){c((function(t){return e}))}]}var x=n(42);var m=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1];return{array:a,set:c,push:function(e){c((function(t){return[].concat(Object(x.a)(t),[e])}))},filter:function(e){c((function(t){return t.filter(e)}))},update:function(e,t){c((function(n){return[].concat(Object(x.a)(n.slice(0,e)),[t],Object(x.a)(n.slice(e+1,n.length)))}))},remove:function(e){c((function(t){return[].concat(Object(x.a)(t.slice(0,e)),Object(x.a)(t.slice(e+1,t.length)))}))},clear:function(){c([])}}},g=n(5);function v(e){var t=e.transcript;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Transcript:"}),Object(g.jsx)("p",{children:t})]})}function y(e){var t=e.id,n=e.name,a=e.pushActiveTags,c=(e.removeActiveTags,e.activeTags,e.filterActiveTags),i=Object(r.useState)(!1),o=Object(s.a)(i,2),u=o[0],l=o[1];return Object(g.jsx)("div",{className:u?"tag active":"tag not-active",id:t,onClick:function(e){u?c((function(e){return e!==n})):a(n),l((function(e){return!e}))},children:Object(g.jsx)("p",{children:n})})}var T=n(57),S=n.n(T),w=n(145),k=n.n(w),C=n(329),A=n(199),N=n(330),D=n(331),I=n(332),R=Object(A.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}});function F(e){var t=e.tagsValueResetFunction,n=e.transcript,r=e.getNextID,a=e.filterActiveTags,c=e.removeActiveTags,i=e.pushActiveTags,s=e.activeTags,o=e.database,l=e.setDoc,j=e.doc,d=e.pushTags,h=e.tags,p=e.tagsBind,f=e.tagsValue,O=(e.tagsResetFunction,e.titleBind),x=e.titleValue,m=e.titleResetFunction,v=e.SpeechRecognition,T=e.resetTranscript,w=e.listening,A=h.length;console.log(A);var F=function(){var e=Object(b.a)(u.a.mark((function e(n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.map((function(e){return e.name})),a=f.toLowerCase(),r.includes(a)){e.next=10;break}return d(c={name:a}),e.next=7,l(j(o,"TAGS",a),c);case 7:t(),e.next=11;break;case 10:alert("The Tag already exists");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(u.a.mark((function e(){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}alert("There is no active transcript. Try recording again"),e.next=19;break;case 4:if(x){e.next=8;break}alert("Enter a title"),e.next=19;break;case 8:if("get upcoming birthdays"!==x.toLowerCase()){e.next=12;break}window.open("/upcoming-birthdays"),e.next=19;break;case 12:return r=(new Date).getTime(),a={tags:s,time:r,title:x,transcript:n},e.next=16,l(j(o,"TRANSCRIPTS",x),a);case 16:T(),m(),t();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=w?"#00C9A3":"",E=w?"":"#00C9A3",P=n?"#00C9A3":"";return Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{style:{marginBlock:"1rem",fontWeight:500},children:"Title and Tags"}),Object(g.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(g.jsxs)("div",{className:"form-element",children:[Object(g.jsx)("label",{htmlFor:"titleInput",children:"Title"}),Object(g.jsx)(k.a,{type:"text",name:"title",id:"titleInput",onChange:O.onChange,value:x})]}),Object(g.jsxs)("div",{className:"form-element",children:[Object(g.jsx)("label",{htmlFor:"tagsInput",children:"Add Tag"}),Object(g.jsx)(k.a,{type:"text",name:"tags",id:"tagsInput",onChange:p.onChange,value:f}),Object(g.jsx)(C.a,{theme:R,children:Object(g.jsx)(S.a,{variant:"contained",color:"primary",onClick:F,children:"Add"})})]}),Object(g.jsxs)("div",{class:"tags-element",children:[Object(g.jsx)("label",{children:"Labels:"}),Object(g.jsx)("div",{className:"tags",children:A?h.map((function(e){return Object(g.jsx)(y,{name:e.name,activeTags:s,filterActiveTags:a,removeActiveTags:c,pushActiveTags:i,id:r()})})):Object(g.jsx)("p",{children:"None"})})]})]}),Object(g.jsx)("h4",{style:{marginBlock:"1rem",fontWeight:500},children:"Recording Settings"}),Object(g.jsxs)("div",{className:"form-buttons",children:[Object(g.jsx)(S.a,{onClick:function(){return v.startListening({continuous:!0})},children:Object(g.jsx)(N.a,{style:{width:"50px",height:"50px",fill:L}})}),Object(g.jsx)(S.a,{onClick:v.stopListening,children:Object(g.jsx)(D.a,{style:{width:"50px",height:"50px",fill:E}})}),Object(g.jsxs)(S.a,{onClick:function(){return T()},children:[Object(g.jsx)(I.a,{style:{width:"50px",height:"50px",fill:P}}),"  "]})]}),Object(g.jsx)("div",{className:"save-button",children:Object(g.jsx)(S.a,{variant:"contained",color:"primary",onClick:B,children:"Save"})})]})}var B=n(193),L=n.n(B),E=n(192),P=n.n(E),W=n(148),V=n.n(W);function _(e){var t=e.browserSupportsSpeechRecognition,n=e.listening;return Object(g.jsxs)("div",{className:"audio-recording-header",children:[Object(g.jsx)("h2",{className:"page-header",children:"Audio Transciption Page"}),Object(g.jsxs)("div",{class:"statuses",children:[Object(g.jsxs)("div",{className:"browser-support-status",children:[Object(g.jsx)("h2",{children:"Browser Support:"})," ",t?Object(g.jsx)(P.a,{style:{width:"35px",height:"35px"}}):Object(g.jsx)(L.a,{})]}),Object(g.jsxs)("div",{className:"listening-status",children:[Object(g.jsx)("h3",{children:"Listening: "}),n?Object(g.jsx)(V.a,{style:{fill:"green",width:"35px",height:"35px"}}):Object(g.jsx)(V.a,{style:{fill:"red",width:"35px",height:"35px"}})]})]})]})}function H(e){var t=e.getNextID,n=e.doc,a=e.setDoc,c=e.appID,i=e.database,o=e.getFirbaseTags,l=Object(h.useSpeechRecognition)(),j=l.transcript,d=l.listening,x=l.resetTranscript,y=l.browserSupportsSpeechRecognition,T=O(""),S=Object(s.a)(T,3),w=S[0],k=S[1],C=S[2],A=O(""),N=Object(s.a)(A,3),D=N[0],I=N[1],R=N[2],B=m([]),L=B.array,E=(B.set,B.push),P=B.remove,W=B.filter;B.update,B.clear;function V(){return H.apply(this,arguments)}function H(){return(H=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=m([]),G=M.array,K=M.set,J=M.push,q=(M.remove,M.filter,M.update),Z=M.clear;if(Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,K(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!y){var z=Object(f.createSpeechlySpeechRecognition)(c);p.a.applyPolyfill(z)}return Object(g.jsxs)("div",{className:"audio-recording-component container",children:[Object(g.jsx)(_,{browserSupportsSpeechRecognition:y,listening:d}),Object(g.jsx)(F,{SpeechRecognition:p.a,resetTranscript:x,titleBind:I,titleValue:D,titleResetFunction:R,tagsBind:k,tagsValue:w,tagsValueResetFunction:C,tags:G,updateTags:q,pushTags:J,tagsResetFunction:Z,doc:n,setDoc:a,database:i,activeTags:L,removeActiveTags:P,pushActiveTags:E,filterActiveTags:W,getNextID:t,transcript:j,listening:d}),Object(g.jsx)(v,{transcript:j})]})}var M=n(78),G=n(194),K=n(55),J=Object(G.a)({apiKey:"AIzaSyDpqWCbiHZSE0q63hX3G4ZYs14BpfP16HE",authDomain:"audiotranscribingapp.firebaseapp.com",projectId:"audiotranscribingapp",storageBucket:"audiotranscribingapp.appspot.com",messagingSenderId:"24079855418",appId:"1:24079855418:web:6669a8fc04e054375cea03"}),q=Object(K.d)(J);function Z(e){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(K.a)(t,"TAGS"),e.next=3,Object(K.c)(n);case 3:return r=e.sent,a=r.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return Q.apply(this,arguments)}function Q(){return(Q=Object(b.a)(u.a.mark((function e(){var t,n,r,a,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:t,n=Object(K.a)(t,"TRANSCRIPTS"),e.next=4,Object(K.c)(n);case 4:return r=e.sent,a=r.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=Object({NODE_ENV:"production",PUBLIC_URL:"/marcus-tulius-library",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).appID||"3261a27f-1c0f-4d95-839e-15efc6044834",Y="https://script.google.com/macros/s/AKfycbzGAE4g-rIZeWixWb3TPQTFyWvWJebRB1TqWCljxuhdI8iwtJs/exec",$=n(333),ee=n(334),te=n(336),ne=n(196),re=n.n(ne),ae=n(335),ce=n(195);n(301);function ie(e){var t=e.transcript,n=e.title,r=(e.p,Object(g.jsx)(S.a,{variant:"contained",color:"primary",children:"Show"}));return Object(g.jsx)(ce.a,{trigger:r,className:"show-transcript",modal:!0,nested:!0,lockScroll:!0,children:Object(g.jsxs)("div",{className:"modal",children:[Object(g.jsx)("h4",{children:n}),Object(g.jsx)("article",{children:t})]})})}var se="ascending",oe="latest";function ue(e){var t=new Date(e),n=Date.now(),r=Math.floor((t-n)/864e5),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),c=new Intl.DateTimeFormat("en",{month:"short"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return console.log("".concat(i,"-").concat(c,"-").concat(a)),["".concat(i,"-").concat(c,"-").concat(a),r]}var le=function(e,t){return e.map((function(e,n){return[t[n],e]})).sort((function(e,t){var n=Object(s.a)(e,1)[0];return Object(s.a)(t,1)[0]-n})).map((function(e){return Object(s.a)(e,2)[1]}))};var je=Object(A.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}});function de(e){var t=e.data,n=(t.map((function(e){return e.value})),t.map((function(e){return e.tags})),t.map((function(e){return e.time})),Object(r.useState)("")),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(null),b=Object(s.a)(d,2),h=(b[0],b[1]);return Object(r.useEffect)((function(){var e=function(e,t){if(""===e)return[];var n=e.toLowerCase().trim().split(/\W+/);return t.filter((function(e){var t=e.title.trim().toLowerCase().split(/\W+/);return function(e,t){return t.some((function(t){return e.map((function(e){return t.includes(e)})).reduce((function(e,t){return e+t}))}))}(n,t)}))}(c,t);j((function(t){return e}))}),[c]),Object(g.jsxs)("div",{className:"search-page container",children:[Object(g.jsx)($.a,{value:c,onChange:function(e){return i((function(t){return e.target.value}))},className:"search-bar",placeholder:"Search",variant:"outlined",InputProps:{endAdornment:Object(g.jsx)(ee.a,{children:Object(g.jsx)(ae.a,{children:Object(g.jsx)(re.a,{})})})}}),Object(g.jsxs)("div",{className:"search-time-buttons",children:[Object(g.jsx)("h4",{children:"Sort By"}),Object(g.jsxs)(C.a,{theme:je,children:[Object(g.jsx)(te.a,{className:"search-button",variant:"contained",onClick:function(){h((function(e){return oe}));var e=function(e){var t=e.map((function(e){return e.time}));return le(e,t)}(t),n=e.length;j(n<=5?function(t){return e}:e.slice(0,5))},style:{hover:"background-color"},color:"primary",children:"Latest"}),Object(g.jsx)(te.a,{className:"search-button",variant:"contained",onClick:function(){if(0===l.length)return[];h((function(e){return se}));var e=l.map((function(e){return e.time})),t=le(l,e).reverse();console.log(t),j((function(e){return t}))},color:"primary",children:"Ascending"}),Object(g.jsx)(te.a,{className:"search-button",variant:"contained",onClick:function(){if(0===l.length)return[];h((function(e){return se}));var e=l.map((function(e){return e.time})),t=le(l,e);console.log(t),j((function(e){return t}))},color:"primary",hover:"secondary",children:"Descending"})]})]}),Object(g.jsxs)("ul",{className:"search-results",children:[Object(g.jsx)("h4",{children:"Search Results"}),Object.keys(l).map((function(e,t){return Object(g.jsxs)("article",{className:"search-results-element",children:[Object(g.jsxs)("div",{className:"element-header",children:[Object(g.jsx)("h4",{children:l[e].title}),Object(g.jsx)("article",{children:ue(l[e].time.seconds)[0]}),Object(g.jsx)("div",{class:"tags",children:l[e].tags.map((function(e){return Object(g.jsx)("p",{children:e})}))})]}),Object(g.jsx)(ie,{transcript:l[e].transcript,title:l[e].title,theme:je})]})}))]})]})}function be(e){var t=e.database,n=Object(r.useState)([]),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:n=e.sent,r=n.map((function(e){return Object(M.a)(Object(M.a)({},e),{},{title:e.title.toLowerCase()})})),i((function(e){return r}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsx)(g.Fragment,{children:c.length?Object(g.jsx)(de,{data:c}):"Loading"})}var he=n(340),pe=n(339);function fe(e){var t=e.obj,n=t.name,r=t.date;return Object(g.jsxs)("div",{className:"birthday-element",children:[Object(g.jsx)("h4",{children:n}),Object(g.jsx)("h5",{children:r})]})}var Oe=Object(A.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}}),xe=function(e,t){return e.map((function(e,n){return[t[n],e]})).sort((function(e,t){var n=Object(s.a)(e,1)[0];return Object(s.a)(t,1)[0]-n})).map((function(e){return Object(s.a)(e,2)[1]}))};function me(){var e=Object(r.useState)(15),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],j=Object(r.useRef)();function d(){return(d=Object(b.a)(u.a.mark((function e(){var t,r,a,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Y+"?days=".concat(n),e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,c=Object.keys(a).map((function(e){var t=a[e].timeDelta,n=a[e].timeDeltaInFututre;return t>=0&&t<=n?t:n>=0?n:t})),i=Object.keys(a).map((function(e){return Object(M.a)(Object(M.a)({},a[e]),{},{name:e})})),console.log(i),console.log(c),s=xe(i,c).reverse(),console.log(s),l((function(e){return s})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),l((function(e){}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"upcoming-birthdays container",children:[Object(g.jsxs)(pe.a,{children:[Object(g.jsx)("label",{htmlFor:"tolerance-days-slider",children:"Number of Days"}),Object(g.jsx)(he.a,{ref:j,id:"tolerance-days-slider","aria-label":"number of days slider",defaultValue:15,step:1,max:365,min:0,onChange:function(e,t){return a(t)},getAriaValueText:function(e){return"".concat(e," days")},valueLabelDisplay:function(e){return"".concat(e," days")}})]}),Object(g.jsx)(C.a,{theme:Oe,children:Object(g.jsx)(te.a,{variant:"contained",onClick:function(){return d.apply(this,arguments)},children:"Get Birthdays"})}),Object(g.jsx)("ul",{className:"birthday-elements",children:o.length?o.map((function(e){return Object(g.jsx)(fe,{obj:e})})):"Enter to get results"})]})}var ge=n(337),ve=n(338),ye=n(311),Te=n(197),Se=n.n(Te);function we(e){e.toggleMenu;var t=e.toggleMenuHandler;return Object(g.jsx)("div",{children:Object(g.jsx)(pe.a,{sx:{flexGrow:1},children:Object(g.jsx)(ge.a,{position:"static",style:{background:"#05055A",padding:"1rem"},children:Object(g.jsxs)(ve.a,{variant:"dense",children:[Object(g.jsx)(ae.a,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,href:"/#/sidenav",children:Object(g.jsx)(Se.a,{style:{hover:{fill:"#00C9A3"}}})}),Object(g.jsx)(ye.a,{variant:"h4",color:"inherit",component:"div",style:{fontFamily:"Dancing Script",selfAlign:"center"},children:"Marcus Tulius' Library"})]})})})})}function ke(){var e=Object(j.f)();return Object(g.jsxs)("aside",{class:"sidenav",id:"sidenav",children:[Object(g.jsxs)("div",{class:"sidenav-container",children:[Object(g.jsx)("h2",{children:"Pages"}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/#",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/#/upcomingBirthdays",children:"Birthdays"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/#/search",children:"Search"})})]})]}),Object(g.jsx)("a",{onClick:function(){e.goBack()},id:"sidenav-close",class:"sidenav-close",children:"."})]})}var Ce=u.a.mark(Ae);function Ae(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,1;case 3:e.next=0;break;case 5:case"end":return e.stop()}}),Ce)}var Ne=Ae();function De(){return Ne.next().value}var Ie=function(){var e=Object(r.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(g.jsx)(l.a,{basename:"/marcus-tulius-library",children:Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("main",{className:!0,children:[Object(g.jsx)(we,{toggleMenu:n,toggleMenuHandler:function(e){a((function(e){return!e}))}}),Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{path:"/",exact:!0,render:function(){return Object(g.jsx)(H,{appID:X,database:q,getNextID:De,doc:d.a,setDoc:d.b,getFirbaseTags:Z})}}),Object(g.jsx)(j.a,{path:"/search",render:function(){return Object(g.jsx)(be,{database:q})}}),Object(g.jsx)(j.a,{path:"/upcomingBirthdays",exact:!0,render:function(){return Object(g.jsx)(me,{})}}),Object(g.jsx)(j.a,{path:"/sidenav",exact:!0,render:function(){return Object(g.jsx)(ke,{})}})]})]})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,341)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(Ie,{})}),document.getElementById("root")),Re()}},[[303,1,2]]]);
//# sourceMappingURL=main.938a74b5.chunk.js.map