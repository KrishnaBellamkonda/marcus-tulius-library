(this["webpackJsonpreal-time-transcription-app"]=this["webpackJsonpreal-time-transcription-app"]||[]).push([[0],{217:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),i=n.n(c),s=n(16),o=n(1),u=n.n(o),l=n(197),j=n(25),d=(n(217),n(102)),h=n(6),p=n(115),b=n.n(p),f=n(186);function O(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1];return[a,{value:e,onChange:function(e){return c((function(t){return e.target.value}))}},function(){c((function(t){return e}))}]}var x=n(42);var g=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1];return{array:a,set:c,push:function(e){c((function(t){return[].concat(Object(x.a)(t),[e])}))},filter:function(e){c((function(t){return t.filter(e)}))},update:function(e,t){c((function(n){return[].concat(Object(x.a)(n.slice(0,e)),[t],Object(x.a)(n.slice(e+1,n.length)))}))},remove:function(e){c((function(t){return[].concat(Object(x.a)(t.slice(0,e)),Object(x.a)(t.slice(e+1,t.length)))}))},clear:function(){c([])}}},m=n(5);function v(e){var t=e.transcript;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Transcript:"}),Object(m.jsx)("p",{children:t})]})}function y(e){var t=e.id,n=e.name,a=e.pushActiveTags,c=(e.removeActiveTags,e.activeTags,e.filterActiveTags),i=Object(r.useState)(!1),o=Object(s.a)(i,2),u=o[0],l=o[1];return Object(m.jsx)("div",{className:u?"tag active":"tag not-active",id:t,onClick:function(e){u?c((function(e){return e!==n})):a(n),l((function(e){return!e}))},children:Object(m.jsx)("p",{children:n})})}var T=n(57),S=n.n(T),w=n(144),C=n.n(w),A=n(329),k=n(199),N=n(330),D=n(331),I=n(332),R=Object(k.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}});function F(e){var t=e.tagsValueResetFunction,n=e.transcript,r=e.getNextID,a=e.filterActiveTags,c=e.removeActiveTags,i=e.pushActiveTags,s=e.activeTags,o=e.database,l=e.setDoc,j=e.doc,d=e.pushTags,p=e.tags,b=e.tagsBind,f=e.tagsValue,O=(e.tagsResetFunction,e.titleBind),x=e.titleValue,g=e.titleResetFunction,v=e.SpeechRecognition,T=e.resetTranscript,w=e.listening,k=p.length;console.log(k);var F=function(){var e=Object(h.a)(u.a.mark((function e(n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.map((function(e){return e.name})),a=f.toLowerCase(),r.includes(a)){e.next=10;break}return d(c={name:a}),e.next=7,l(j(o,"TAGS",a),c);case 7:t(),e.next=11;break;case 10:alert("The Tag already exists");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(h.a)(u.a.mark((function e(){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}alert("There is no active transcript. Try recording again"),e.next=19;break;case 4:if(x){e.next=8;break}alert("Enter a title"),e.next=19;break;case 8:if("get upcoming birthdays"!==x.toLowerCase()){e.next=12;break}window.open("/upcoming-birthdays"),e.next=19;break;case 12:return r=(new Date).getTime(),a={tags:s,time:r,title:x,transcript:n},e.next=16,l(j(o,"TRANSCRIPTS",x),a);case 16:T(),g(),t();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=w?"#00C9A3":"",E=w?"":"#00C9A3",P=n?"#00C9A3":"";return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{style:{marginBlock:"1rem",fontWeight:500},children:"Title and Tags"}),Object(m.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsxs)("div",{className:"form-element",children:[Object(m.jsx)("label",{htmlFor:"titleInput",children:"Title"}),Object(m.jsx)(C.a,{type:"text",name:"title",id:"titleInput",onChange:O.onChange,value:x})]}),Object(m.jsxs)("div",{className:"form-element",children:[Object(m.jsx)("label",{htmlFor:"tagsInput",children:"Add Tag"}),Object(m.jsx)(C.a,{type:"text",name:"tags",id:"tagsInput",onChange:b.onChange,value:f}),Object(m.jsx)(A.a,{theme:R,children:Object(m.jsx)(S.a,{variant:"contained",color:"primary",onClick:F,children:"Add"})})]}),Object(m.jsxs)("div",{class:"tags-element",children:[Object(m.jsx)("label",{children:"Labels:"}),Object(m.jsx)("div",{className:"tags",children:k?p.map((function(e){return Object(m.jsx)(y,{name:e.name,activeTags:s,filterActiveTags:a,removeActiveTags:c,pushActiveTags:i,id:r()})})):Object(m.jsx)("p",{children:"None"})})]})]}),Object(m.jsx)("h4",{style:{marginBlock:"1rem",fontWeight:500},children:"Recording Settings"}),Object(m.jsxs)("div",{className:"form-buttons",children:[Object(m.jsx)(S.a,{onClick:function(){return v.startListening({continuous:!0})},children:Object(m.jsx)(N.a,{style:{width:"50px",height:"50px",fill:B}})}),Object(m.jsx)(S.a,{onClick:v.stopListening,children:Object(m.jsx)(D.a,{style:{width:"50px",height:"50px",fill:E}})}),Object(m.jsxs)(S.a,{onClick:function(){return T()},children:[Object(m.jsx)(I.a,{style:{width:"50px",height:"50px",fill:P}}),"  "]})]}),Object(m.jsx)("div",{className:"save-button",children:Object(m.jsx)(S.a,{variant:"contained",color:"primary",onClick:L,children:"Save"})})]})}var L=n(192),B=n.n(L),E=n(191),P=n.n(E),_=n(147),H=n.n(_);function W(e){var t=e.browserSupportsSpeechRecognition,n=e.listening;return Object(m.jsxs)("div",{className:"audio-recording-header",children:[Object(m.jsx)("h2",{className:"page-header",children:"Audio Transciption Page"}),Object(m.jsxs)("div",{class:"statuses",children:[Object(m.jsxs)("div",{className:"browser-support-status",children:[Object(m.jsx)("h2",{children:"Browser Support:"})," ",t?Object(m.jsx)(P.a,{style:{width:"35px",height:"35px"}}):Object(m.jsx)(B.a,{})]}),Object(m.jsxs)("div",{className:"listening-status",children:[Object(m.jsx)("h3",{children:"Listening: "}),n?Object(m.jsx)(H.a,{style:{fill:"green",width:"35px",height:"35px"}}):Object(m.jsx)(H.a,{style:{fill:"red",width:"35px",height:"35px"}})]})]})]})}function M(e){var t=e.getNextID,n=e.doc,a=e.setDoc,c=e.appID,i=e.database,o=e.getFirbaseTags,l=Object(p.useSpeechRecognition)(),j=l.transcript,d=l.listening,x=l.resetTranscript,y=l.browserSupportsSpeechRecognition,T=O(""),S=Object(s.a)(T,3),w=S[0],C=S[1],A=S[2],k=O(""),N=Object(s.a)(k,3),D=N[0],I=N[1],R=N[2],L=g([]),B=L.array,E=(L.set,L.push),P=L.remove,_=L.filter;L.update,L.clear;function H(){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=g([]),G=V.array,K=V.set,q=V.push,J=(V.remove,V.filter,V.update),U=V.clear;if(Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,K(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!y){var Z=Object(f.createSpeechlySpeechRecognition)(c);b.a.applyPolyfill(Z)}return Object(m.jsxs)("div",{className:"audio-recording-component container",children:[Object(m.jsx)(W,{browserSupportsSpeechRecognition:y,listening:d}),Object(m.jsx)(F,{SpeechRecognition:b.a,resetTranscript:x,titleBind:I,titleValue:D,titleResetFunction:R,tagsBind:C,tagsValue:w,tagsValueResetFunction:A,tags:G,updateTags:J,pushTags:q,tagsResetFunction:U,doc:n,setDoc:a,database:i,activeTags:B,removeActiveTags:P,pushActiveTags:E,filterActiveTags:_,getNextID:t,transcript:j,listening:d}),Object(m.jsx)(v,{transcript:j})]})}var V=n(78),G=n(193),K=n(55),q=Object(G.a)({apiKey:"AIzaSyDpqWCbiHZSE0q63hX3G4ZYs14BpfP16HE",authDomain:"audiotranscribingapp.firebaseapp.com",projectId:"audiotranscribingapp",storageBucket:"audiotranscribingapp.appspot.com",messagingSenderId:"24079855418",appId:"1:24079855418:web:6669a8fc04e054375cea03"}),J=Object(K.d)(q);function U(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(h.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(K.a)(t,"TAGS"),e.next=3,Object(K.c)(n);case 3:return r=e.sent,a=r.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return X.apply(this,arguments)}function X(){return(X=Object(h.a)(u.a.mark((function e(){var t,n,r,a,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:t,n=Object(K.a)(t,"TRANSCRIPTS"),e.next=4,Object(K.c)(n);case 4:return r=e.sent,a=r.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=Object({NODE_ENV:"production",PUBLIC_URL:"/marcus-tulius-library",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).appID||"3261a27f-1c0f-4d95-839e-15efc6044834",Q=n(333),$=n(334),ee=n(336),te=n(195),ne=n.n(te),re=n(335),ae=n(194);n(301);function ce(e){var t=e.transcript,n=e.title,r=(e.p,Object(m.jsx)(S.a,{variant:"contained",color:"primary",children:"Show"}));return Object(m.jsx)(ae.a,{trigger:r,className:"show-transcript",modal:!0,nested:!0,lockScroll:!0,children:Object(m.jsxs)("div",{className:"modal",children:[Object(m.jsx)("h4",{children:n}),Object(m.jsx)("article",{children:t})]})})}var ie="ascending",se="latest";function oe(e){var t=new Date(e),n=Date.now(),r=Math.floor((t-n)/864e5),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),c=new Intl.DateTimeFormat("en",{month:"short"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return console.log("".concat(i,"-").concat(c,"-").concat(a)),["".concat(i,"-").concat(c,"-").concat(a),r]}var ue=function(e,t){return e.map((function(e,n){return[t[n],e]})).sort((function(e,t){var n=Object(s.a)(e,1)[0];return Object(s.a)(t,1)[0]-n})).map((function(e){return Object(s.a)(e,2)[1]}))};var le=Object(k.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}});function je(e){var t=e.data,n=(t.map((function(e){return e.value})),t.map((function(e){return e.tags})),t.map((function(e){return e.time})),Object(r.useState)("")),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(null),h=Object(s.a)(d,2),p=(h[0],h[1]);return Object(r.useEffect)((function(){var e=function(e,t){if(""===e)return[];var n=e.toLowerCase().trim().split(/\W+/);return t.filter((function(e){var t=e.title.trim().toLowerCase().split(/\W+/);return function(e,t){return t.some((function(t){return e.map((function(e){return t.includes(e)})).reduce((function(e,t){return e+t}))}))}(n,t)}))}(c,t);j((function(t){return e}))}),[c]),Object(m.jsxs)("div",{className:"search-page container",children:[Object(m.jsx)(Q.a,{value:c,onChange:function(e){return i((function(t){return e.target.value}))},className:"search-bar",placeholder:"Search",variant:"outlined",InputProps:{endAdornment:Object(m.jsx)($.a,{children:Object(m.jsx)(re.a,{children:Object(m.jsx)(ne.a,{})})})}}),Object(m.jsxs)("div",{className:"search-time-buttons",children:[Object(m.jsx)("h4",{children:"Sort By"}),Object(m.jsxs)(A.a,{theme:le,children:[Object(m.jsx)(ee.a,{className:"search-button",variant:"contained",onClick:function(){p((function(e){return se}));var e=function(e){var t=e.map((function(e){return e.time}));return ue(e,t)}(t),n=e.length;j(n<=5?function(t){return e}:e.slice(0,5))},style:{hover:"background-color"},color:"primary",children:"Latest"}),Object(m.jsx)(ee.a,{className:"search-button",variant:"contained",onClick:function(){if(0===l.length)return[];p((function(e){return ie}));var e=l.map((function(e){return e.time})),t=ue(l,e).reverse();console.log(t),j((function(e){return t}))},color:"primary",children:"Ascending"}),Object(m.jsx)(ee.a,{className:"search-button",variant:"contained",onClick:function(){if(0===l.length)return[];p((function(e){return ie}));var e=l.map((function(e){return e.time})),t=ue(l,e);console.log(t),j((function(e){return t}))},color:"primary",hover:"secondary",children:"Descending"})]})]}),Object(m.jsxs)("ul",{className:"search-results",children:[Object(m.jsx)("h4",{children:"Search Results"}),Object.keys(l).map((function(e,t){return Object(m.jsxs)("article",{className:"search-results-element",children:[Object(m.jsxs)("div",{className:"element-header",children:[Object(m.jsx)("h4",{children:l[e].title}),Object(m.jsx)("article",{children:oe(l[e].time.seconds)[0]}),Object(m.jsx)("div",{class:"tags",children:l[e].tags.map((function(e){return Object(m.jsx)("p",{children:e})}))})]}),Object(m.jsx)(ce,{transcript:l[e].transcript,title:l[e].title,theme:le})]})}))]})]})}function de(e){var t=e.database,n=Object(r.useState)([]),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:n=e.sent,r=n.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{title:e.title.toLowerCase()})})),i((function(e){return r}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsx)(m.Fragment,{children:c.length?Object(m.jsx)(je,{data:c}):"Loading"})}n(340);var he=n(339);Object(k.a)({palette:{primary:{main:"#05055A"},secondary:{main:"#00C9A3"}}});var pe=n(337),be=n(338),fe=n(311),Oe=n(196),xe=n.n(Oe);function ge(e){e.toggleMenu;var t=e.toggleMenuHandler;return Object(m.jsx)("div",{children:Object(m.jsx)(he.a,{sx:{flexGrow:1},children:Object(m.jsx)(pe.a,{position:"static",style:{background:"#05055A",padding:"1rem"},children:Object(m.jsxs)(be.a,{variant:"dense",children:[Object(m.jsx)(re.a,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,href:"#sidenav",children:Object(m.jsx)(xe.a,{style:{hover:{fill:"#00C9A3"}}})}),Object(m.jsx)(fe.a,{variant:"h4",color:"inherit",component:"div",style:{fontFamily:"Dancing Script",selfAlign:"center"},children:"Marcus Tulius' Library"})]})})})})}function me(){return Object(m.jsxs)("aside",{class:"sidenav",id:"sidenav",children:[Object(m.jsxs)("div",{class:"sidenav-container",children:[Object(m.jsx)("h2",{children:"Pages"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"/#",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"/upcomingBirthdays",children:"Birthdays"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"/search",children:"Search"})})]})]}),Object(m.jsx)("a",{href:"/#",id:"sidenav-close",class:"sidenav-close",children:"."})]})}var ve=u.a.mark(ye);function ye(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,1;case 3:e.next=0;break;case 5:case"end":return e.stop()}}),ve)}var Te=ye();function Se(){return Te.next().value}var we=function(){var e=Object(r.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(m.jsx)(l.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(me,{}),Object(m.jsxs)("main",{className:!0,children:[Object(m.jsx)(ge,{toggleMenu:n,toggleMenuHandler:function(e){a((function(e){return!e}))}}),Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{path:"/",exact:!0,render:function(){return Object(m.jsx)(M,{appID:Y,database:J,getNextID:Se,doc:d.a,setDoc:d.b,getFirbaseTags:U})}}),Object(m.jsx)(j.a,{path:"/search",render:function(){return Object(m.jsx)(de,{database:J})}})]})]})]})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,341)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(we,{})}),document.getElementById("root")),Ce()}},[[303,1,2]]]);
//# sourceMappingURL=main.2a331918.chunk.js.map